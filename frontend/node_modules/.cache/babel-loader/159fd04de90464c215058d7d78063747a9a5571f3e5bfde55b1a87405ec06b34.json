{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Public\\\\Libraries\\\\one\\\\Hanane\\\\frontend\\\\src\\\\contextes\\\\ContextePanier.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContextePanier = /*#__PURE__*/createContext();\nexport const useUtiliserPanier = () => {\n  _s();\n  return useContext(ContextePanier);\n};\n_s(useUtiliserPanier, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const FournisseurPanier = ({\n  children\n}) => {\n  _s2();\n  const [articlesPanier, setArticlesPanier] = useState([]);\n  useEffect(() => {\n    const panierSauvegarde = localStorage.getItem('panier');\n    if (panierSauvegarde) {\n      setArticlesPanier(JSON.parse(panierSauvegarde));\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('panier', JSON.stringify(articlesPanier));\n  }, [articlesPanier]);\n  const ajouterAuPanier = (produit, quantite = 1) => {\n    setArticlesPanier(articlesPrec => {\n      const articleExistant = articlesPrec.find(article => article._id === produit._id);\n      if (articleExistant) {\n        return articlesPrec.map(article => article._id === produit._id ? {\n          ...article,\n          quantite: article.quantite + quantite\n        } : article);\n      } else {\n        return [...articlesPrec, {\n          ...produit,\n          quantite\n        }];\n      }\n    });\n  };\n  const retirerDuPanier = idProduit => {\n    setArticlesPanier(articlesPrec => articlesPrec.filter(article => article._id !== idProduit));\n  };\n  const mettreAJourQuantite = (idProduit, quantite) => {\n    if (quantite <= 0) {\n      retirerDuPanier(idProduit);\n      return;\n    }\n    setArticlesPanier(articlesPrec => articlesPrec.map(article => article._id === idProduit ? {\n      ...article,\n      quantite\n    } : article));\n  };\n  const viderPanier = () => {\n    setArticlesPanier([]);\n  };\n  const obtenirTotalPanier = () => {\n    return articlesPanier.reduce((total, article) => total + article.prix * article.quantite, 0);\n  };\n  const obtenirNombreArticles = () => {\n    return articlesPanier.reduce((total, article) => total + article.quantite, 0);\n  };\n  const valeur = {\n    articlesPanier,\n    ajouterAuPanier,\n    retirerDuPanier,\n    mettreAJourQuantite,\n    viderPanier,\n    obtenirTotalPanier,\n    obtenirNombreArticles\n  };\n  return /*#__PURE__*/_jsxDEV(ContextePanier.Provider, {\n    value: valeur,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s2(FournisseurPanier, \"oov24LtRbuogQulSXaz6apG9rxM=\");\n_c = FournisseurPanier;\nvar _c;\n$RefreshReg$(_c, \"FournisseurPanier\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","ContextePanier","useUtiliserPanier","_s","FournisseurPanier","children","_s2","articlesPanier","setArticlesPanier","panierSauvegarde","localStorage","getItem","JSON","parse","setItem","stringify","ajouterAuPanier","produit","quantite","articlesPrec","articleExistant","find","article","_id","map","retirerDuPanier","idProduit","filter","mettreAJourQuantite","viderPanier","obtenirTotalPanier","reduce","total","prix","obtenirNombreArticles","valeur","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Public/Libraries/one/Hanane/frontend/src/contextes/ContextePanier.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst ContextePanier = createContext();\r\n\r\nexport const useUtiliserPanier = () => {\r\n  return useContext(ContextePanier);\r\n};\r\n\r\nexport const FournisseurPanier = ({ children }) => {\r\n  const [articlesPanier, setArticlesPanier] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const panierSauvegarde = localStorage.getItem('panier');\r\n    if (panierSauvegarde) {\r\n      setArticlesPanier(JSON.parse(panierSauvegarde));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('panier', JSON.stringify(articlesPanier));\r\n  }, [articlesPanier]);\r\n\r\n  const ajouterAuPanier = (produit, quantite = 1) => {\r\n    setArticlesPanier(articlesPrec => {\r\n      const articleExistant = articlesPrec.find(article => article._id === produit._id);\r\n      \r\n      if (articleExistant) {\r\n        return articlesPrec.map(article =>\r\n          article._id === produit._id\r\n            ? { ...article, quantite: article.quantite + quantite }\r\n            : article\r\n        );\r\n      } else {\r\n        return [...articlesPrec, { ...produit, quantite }];\r\n      }\r\n    });\r\n  };\r\n\r\n  const retirerDuPanier = (idProduit) => {\r\n    setArticlesPanier(articlesPrec => articlesPrec.filter(article => article._id !== idProduit));\r\n  };\r\n\r\n  const mettreAJourQuantite = (idProduit, quantite) => {\r\n    if (quantite <= 0) {\r\n      retirerDuPanier(idProduit);\r\n      return;\r\n    }\r\n    \r\n    setArticlesPanier(articlesPrec =>\r\n      articlesPrec.map(article =>\r\n        article._id === idProduit ? { ...article, quantite } : article\r\n      )\r\n    );\r\n  };\r\n\r\n  const viderPanier = () => {\r\n    setArticlesPanier([]);\r\n  };\r\n\r\n  const obtenirTotalPanier = () => {\r\n    return articlesPanier.reduce((total, article) => total + (article.prix * article.quantite), 0);\r\n  };\r\n\r\n  const obtenirNombreArticles = () => {\r\n    return articlesPanier.reduce((total, article) => total + article.quantite, 0);\r\n  };\r\n\r\n  const valeur = {\r\n    articlesPanier,\r\n    ajouterAuPanier,\r\n    retirerDuPanier,\r\n    mettreAJourQuantite,\r\n    viderPanier,\r\n    obtenirTotalPanier,\r\n    obtenirNombreArticles\r\n  };\r\n\r\n  return (\r\n    <ContextePanier.Provider value={valeur}>\r\n      {children}\r\n    </ContextePanier.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}