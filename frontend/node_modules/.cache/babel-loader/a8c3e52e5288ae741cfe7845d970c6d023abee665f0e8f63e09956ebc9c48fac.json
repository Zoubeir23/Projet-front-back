{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Public\\\\Libraries\\\\one\\\\Hanane\\\\frontend\\\\src\\\\components\\\\WishlistButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axiosInstance from '../config/axios';\nimport { useUtiliserAuth } from '../contextes/ContexteAuth';\nimport '../styles/WishlistButton.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WishlistButton = ({\n  productId,\n  className = ''\n}) => {\n  _s();\n  const [dansWishlist, setDansWishlist] = useState(false);\n  const [chargement, setChargement] = useState(false);\n  const {\n    utilisateurActuel\n  } = useUtiliserAuth();\n  useEffect(() => {\n    if (utilisateurActuel && productId) {\n      verifierWishlist();\n    }\n  }, [productId, utilisateurActuel]);\n  const verifierWishlist = async () => {\n    try {\n      const response = await axiosInstance.get(`/api/wishlist/${productId}/check`);\n      setDansWishlist(response.data.in_wishlist);\n    } catch (error) {\n      console.error('Erreur lors de la v√©rification wishlist:', error);\n    }\n  };\n  const toggleWishlist = async e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!utilisateurActuel) {\n      alert('Vous devez √™tre connect√© pour ajouter des produits √† votre liste de souhaits');\n      return;\n    }\n    setChargement(true);\n    try {\n      if (dansWishlist) {\n        await axiosInstance.delete(`/api/wishlist/${productId}`);\n        setDansWishlist(false);\n      } else {\n        await axiosInstance.post(`/api/wishlist/${productId}`);\n        setDansWishlist(true);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Erreur lors de la mise √† jour de la wishlist');\n    } finally {\n      setChargement(false);\n    }\n  };\n  if (!utilisateurActuel) {\n    return null; // Ne pas afficher le bouton si non connect√©\n  }\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: toggleWishlist,\n    disabled: chargement,\n    className: `btn-wishlist ${dansWishlist ? 'active' : ''} ${className}`,\n    title: dansWishlist ? 'Retirer de la liste de souhaits' : 'Ajouter √† la liste de souhaits',\n    children: chargement ? /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"spinner-wishlist\",\n      children: \"\\u27F3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `coeur ${dansWishlist ? 'plein' : 'vide'}`,\n      children: dansWishlist ? '‚ù§Ô∏è' : 'ü§ç'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(WishlistButton, \"uCPDekuWYHQyQ4Uq5K0URd8G7+U=\", false, function () {\n  return [useUtiliserAuth];\n});\n_c = WishlistButton;\nexport default WishlistButton;\nvar _c;\n$RefreshReg$(_c, \"WishlistButton\");","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","useUtiliserAuth","jsxDEV","_jsxDEV","WishlistButton","productId","className","_s","dansWishlist","setDansWishlist","chargement","setChargement","utilisateurActuel","verifierWishlist","response","get","data","in_wishlist","error","console","toggleWishlist","e","preventDefault","stopPropagation","alert","delete","post","_error$response","_error$response$data","message","onClick","disabled","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Public/Libraries/one/Hanane/frontend/src/components/WishlistButton.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axiosInstance from '../config/axios';\r\nimport { useUtiliserAuth } from '../contextes/ContexteAuth';\r\nimport '../styles/WishlistButton.css';\r\n\r\nconst WishlistButton = ({ productId, className = '' }) => {\r\n  const [dansWishlist, setDansWishlist] = useState(false);\r\n  const [chargement, setChargement] = useState(false);\r\n  const { utilisateurActuel } = useUtiliserAuth();\r\n\r\n  useEffect(() => {\r\n    if (utilisateurActuel && productId) {\r\n      verifierWishlist();\r\n    }\r\n  }, [productId, utilisateurActuel]);\r\n\r\n  const verifierWishlist = async () => {\r\n    try {\r\n      const response = await axiosInstance.get(`/api/wishlist/${productId}/check`);\r\n      setDansWishlist(response.data.in_wishlist);\r\n    } catch (error) {\r\n      console.error('Erreur lors de la v√©rification wishlist:', error);\r\n    }\r\n  };\r\n\r\n  const toggleWishlist = async (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!utilisateurActuel) {\r\n      alert('Vous devez √™tre connect√© pour ajouter des produits √† votre liste de souhaits');\r\n      return;\r\n    }\r\n\r\n    setChargement(true);\r\n\r\n    try {\r\n      if (dansWishlist) {\r\n        await axiosInstance.delete(`/api/wishlist/${productId}`);\r\n        setDansWishlist(false);\r\n      } else {\r\n        await axiosInstance.post(`/api/wishlist/${productId}`);\r\n        setDansWishlist(true);\r\n      }\r\n    } catch (error) {\r\n      alert(error.response?.data?.message || 'Erreur lors de la mise √† jour de la wishlist');\r\n    } finally {\r\n      setChargement(false);\r\n    }\r\n  };\r\n\r\n  if (!utilisateurActuel) {\r\n    return null; // Ne pas afficher le bouton si non connect√©\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={toggleWishlist}\r\n      disabled={chargement}\r\n      className={`btn-wishlist ${dansWishlist ? 'active' : ''} ${className}`}\r\n      title={dansWishlist ? 'Retirer de la liste de souhaits' : 'Ajouter √† la liste de souhaits'}\r\n    >\r\n      {chargement ? (\r\n        <span className=\"spinner-wishlist\">‚ü≥</span>\r\n      ) : (\r\n        <span className={`coeur ${dansWishlist ? 'plein' : 'vide'}`}>\r\n          {dansWishlist ? '‚ù§Ô∏è' : 'ü§ç'}\r\n        </span>\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default WishlistButton;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}